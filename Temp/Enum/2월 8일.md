# 2월 8일 설날

Front <-> Back 사이에서 주고 받을 때 Enum 타입은 어떻게 처리되는지 궁금해서 이것저것 실험 중

TestEnum testEnum 에서 List<TestEnum> testEnum 으로 바꿔서 보내니까 이런 에러 남.
```java
.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList<com.crabcodingtest.domain.signup.response.TestDTO$TestEnum>` from String value (token `JsonToken.VALUE_STRING`)]
```
★정리 : 그냥 저 에러는 쉽게 말해서 프론트 -> 백 했을 때 해당 Enum 타입에 선언된 객체와 매핑이 되지 않으면 나는 거임. (걍 매핑이 제대로 안 됐을 때 나는 에러로 알고 있음. 꼭 enum이 아니더라도)

---

# 어떻게 매핑이 되는지 알아보자. (★사실상 스프링 Converter에 대해 알아가는 과정..?)

## 1. Front -> Back 
★ 정말 놀라운 걸 발견 
- 객체의 필드 값으로는 인식 못함.
- but, 객체의 ordinal(순번) 값으로는 인식이 됨 ㄷㄷ;;

예시
```java
"testEnumList":["SUCCESS", "FAIL", 0, 1, 111]

"SUCCESS", "FAIL" <- 이런 건 당연히 인식하는데
0, 1 <- 이것도 ordinal로 인식하는지 0은 SUCCESS, 1은 FAIL로 매핑
111 <- 반면 필드 값으로는 인식 X 
```

### 이건 enum 관련은 아니고, @NoArgsConstructor 어노테이션과 관련
`@NoArgsConstructor`를 생략하니까 
`@RequestBody TestDTO testDTO` 형태로 프론트에서 백으로 데이터를 넘겨도...
JSON 데이터를 JAVA 객체로 변환(매핑)시켜주는 jackson 라이브러리가 매핑을 못 시키는 에러 발생.

에러 원인은 다음과 같음.
★기본 생성자와 같은 creators가 없어서 TestDTO의 인스턴스를 생성할 수 없다!! 라는 에러
```java
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.crabcodingtest.domain.signup.request.TestDTO` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)
```

그래서 이를 정리한 블로그를 찾았음. ★★
https://91ms.tistory.com/29
![img.png](img.png)
![img_1.png](img_1.png)
(cf. @JsonProperty, @JsonAutoDetect 를 사용하는 프로퍼티 기반 객체 or 생성자를 위임한 경우라면 필요하지 않다! 라는 건 무슨 뜻일까??)

## 2. Back -> Front
